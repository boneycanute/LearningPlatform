@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer base {
  :root,
  .mocha {
    /* Base colors - matching our current dark theme */
    --background: 234 25% 13.73%; /* #1c1c2b */
    --foreground: 226 70% 88%;
    --card: 234 25% 12%; /* Slightly darker than background */
    --card-foreground: 226 70% 88%;
    --muted: 237 19% 22%;
    --muted-foreground: 227 57% 74%;

    /* Brand colors */
    --primary: 317 33% 83%; /* #f5c2e7 (pink) */
    --primary-foreground: 234 25% 14%;
    --secondary: 152 55% 76%; /* #a6e3a1 (green) */
    --secondary-foreground: 234 25% 14%;
    --accent: 23 92% 75%; /* #fab387 (peach) */
    --accent-foreground: 234 25% 14%;

    /* System colors */
    --destructive: 343 81% 75%;
    --destructive-foreground: 234 25% 14%;
    --border: 237 19% 22%;
    --input: 237 19% 22%;
    --ring: 267 84% 81%; /* #cba6f7 (lavender) */

    /* Editor colors */
    --editor-bg: 234 25% 14%;
    --editor-fg: 226 70% 88%;
    --editor-line: 227 57% 74%;
    --editor-selection: 267 84% 81%;
    --editor-cursor: 226 70% 88%;
    --radius: 0.5rem;
  }

  .macchiato {
    /* A bit lighter than mocha */
    --background: 234 23% 18%;
    --foreground: 227 70% 87%;
    --card: 234 23% 16%;
    --card-foreground: 227 70% 87%;
    --muted: 234 19% 23%;
    --muted-foreground: 228 57% 73%;

    /* Brand colors - slightly adjusted for this theme */
    --primary: 317 33% 83%; /* #f5c2e7 */
    --primary-foreground: 234 23% 18%;
    --secondary: 152 55% 76%; /* #a6e3a1 */
    --secondary-foreground: 234 23% 18%;
    --accent: 23 92% 75%; /* #fab387 */
    --accent-foreground: 234 23% 18%;

    /* System colors */
    --destructive: 343 81% 75%;
    --destructive-foreground: 234 23% 18%;
    --border: 234 19% 23%;
    --input: 234 19% 23%;
    --ring: 267 84% 81%; /* #cba6f7 */

    /* Editor colors */
    --editor-bg: 234 23% 18%;
    --editor-fg: 227 70% 87%;
    --editor-line: 228 57% 73%;
    --editor-selection: 267 84% 81%;
    --editor-cursor: 227 70% 87%;
    --radius: 0.5rem;
  }

  .frappe {
    /* Lighter theme */
    --background: 229 23% 22%;
    --foreground: 227 70% 87%;
    --card: 229 23% 20%;
    --card-foreground: 227 70% 87%;
    --muted: 232 19% 24%;
    --muted-foreground: 228 57% 73%;

    /* Brand colors - slightly lightened */
    --primary: 317 33% 83%; /* #f5c2e7 */
    --primary-foreground: 229 23% 22%;
    --secondary: 152 55% 76%; /* #a6e3a1 */
    --secondary-foreground: 229 23% 22%;
    --accent: 23 92% 75%; /* #fab387 */
    --accent-foreground: 229 23% 22%;

    /* System colors */
    --destructive: 343 81% 75%;
    --destructive-foreground: 229 23% 22%;
    --border: 232 19% 24%;
    --input: 232 19% 24%;
    --ring: 267 84% 81%; /* #cba6f7 */

    /* Editor colors */
    --editor-bg: 229 23% 22%;
    --editor-fg: 227 70% 87%;
    --editor-line: 228 57% 73%;
    --editor-selection: 267 84% 81%;
    --editor-cursor: 227 70% 87%;
    --radius: 0.5rem;
  }

  .latte {
    /* Light theme */
    --background: 230 100% 97%;
    --foreground: 234 16% 35%;
    --card: 233 100% 96%;
    --card-foreground: 234 16% 35%;
    --muted: 233 10% 90%;
    --muted-foreground: 234 13% 60%;

    /* Brand colors - adjusted for light theme */
    --primary: 317 33% 83%; /* #f5c2e7 but darker */
    --primary-foreground: 233 100% 97%;
    --secondary: 152 55% 76%; /* #a6e3a1 but darker */
    --secondary-foreground: 233 100% 97%;
    --accent: 23 92% 75%; /* #fab387 but darker */
    --accent-foreground: 233 100% 97%;

    /* System colors */
    --destructive: 343 81% 75%;
    --destructive-foreground: 233 100% 97%;
    --border: 233 10% 90%;
    --input: 233 10% 90%;
    --ring: 267 84% 81%; /* #cba6f7 but darker */

    /* Editor colors */
    --editor-bg: 230 100% 97%;
    --editor-fg: 234 16% 35%;
    --editor-line: 234 13% 60%;
    --editor-selection: 267 84% 81%;
    --editor-cursor: 234 16% 35%;
    --radius: 0.5rem;
  }
  :root {
    --color-1: 0 100% 63%;
    --color-2: 270 100% 63%;
    --color-3: 210 100% 63%;
    --color-4: 195 100% 63%;
    --color-5: 90 100% 63%;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
  .dark {
    --color-1: 0 100% 63%;
    --color-2: 270 100% 63%;
    --color-3: 210 100% 63%;
    --color-4: 195 100% 63%;
    --color-5: 90 100% 63%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

.prose {
  @apply max-w-none;
}

.prose pre {
  @apply bg-muted p-4 rounded-lg overflow-x-auto;
}

.prose code {
  @apply bg-muted px-1 py-0.5 rounded;
}

.prose h1 {
  @apply text-2xl font-bold mt-8 mb-4;
}

.prose h2 {
  @apply text-xl font-semibold mt-6 mb-3;
}

.prose h3 {
  @apply text-lg font-medium mt-4 mb-2;
}

.prose ul {
  @apply list-disc list-inside;
}

.prose ol {
  @apply list-decimal list-inside;
}

.prose p {
  @apply mb-4;
}

/* Monaco Editor Styles */
.monaco-editor .margin {
  background-color: transparent !important;
  border-right: none !important;
}

.monaco-editor .line-numbers {
  color: hsl(var(--muted-foreground)) !important;
  font-size: 12px !important;
}

.monaco-editor .line-numbers-border {
  display: none !important;
}

.monaco-editor .current-line {
  background-color: hsl(var(--muted) / 0.3) !important;
  border: none !important;
}

.monaco-editor .cursor {
  background-color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--foreground)) !important;
}

.monaco-editor .selected-text {
  background-color: hsl(var(--primary) / 0.2) !important;
}

.monaco-editor .monaco-editor-background {
  /* background-color: hsl(var(--background)) !important; */
}

/* Editor decorations */
.errorLineDecoration {
  background-color: hsl(var(--destructive) / 0.1);
  margin-left: 3px;
}

.errorGlyphMargin {
  background-color: hsl(var(--destructive) / 0.3);
}

/* Theme transition */
* {
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out,
    border-color 0.2s ease-in-out;
}

/* Scrollbar customization */
.monaco-editor .scrollbar {
  opacity: 0 !important;
}

/* Remove editor borders */
.monaco-editor .monaco-editor-background,
.monaco-editor .margin-view-overlays,
.monaco-editor .margin {
  border: none !important;
}

/* Feedback panel transitions */
.feedback-panel-enter {
  transform: translateY(100%);
  opacity: 0;
}

.feedback-panel-enter-active {
  transform: translateY(0);
  opacity: 1;
  transition: all 300ms ease-in-out;
}

.feedback-panel-exit {
  transform: translateY(0);
  opacity: 1;
}

.feedback-panel-exit-active {
  transform: translateY(100%);
  opacity: 0;
  transition: all 300ms ease-in-out;
}
